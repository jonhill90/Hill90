---
# Master Bootstrap Playbook
# Runs all numbered playbooks in sequence
# Based on existing 01-09 playbooks

- name: Bootstrap VPS Infrastructure
  hosts: vps
  become: yes
  gather_facts: yes

  vars_files:
    - ../inventory/group_vars/all.yml

  tasks:
    - name: 01 - User Setup
      import_tasks: 01-user-setup.yml

    - name: 02 - Firewall Basic
      import_tasks: 02-firewall-basic.yml

    - name: 03 - Tailscale
      import_tasks: 03-tailscale.yml

    - name: 04 - SSH Lockdown
      import_tasks: 04-ssh-lockdown.yml

    - name: 05 - SSH Hardening
      import_tasks: 05-ssh-hardening.yml

    - name: 06 - Secrets Setup
      import_tasks: 06-secrets-setup.yml

    - name: 07 - Git and Repo
      import_tasks: 07-git-and-repo.yml

    - name: 08 - Age Key Transfer
      import_tasks: 08-age-key-transfer.yml

    - name: 09 - Docker Install
      import_tasks: 09-docker-install.yml
